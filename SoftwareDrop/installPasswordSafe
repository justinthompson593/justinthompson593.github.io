#!/bin/bash 

echo "Installing Password Safe"

sudo apt-get install curl pgpgpg

mkdir ~/PasswordSafe

cd ~/PasswordSafe

curl -o PS.cpp http://justinthompson593.github.io/SoftwareDrop/PasswordSafe.cpp

g++ PS.cpp -o PasswordSafe && rm PS.cpp

echo "export PATH=$PWD:$PATH" >> ~/.bashrc

touch passwords.txt

echo
echo
echo "Would you like to add a password to your safe (y/n)? "
read usrIn

while [ "$usrIn" == "y" ]
do
	echo "Enter a title for the password (Bank, Emailname1, Emailname2, etc.): "
	read usrIn
	echo "$usrIn" >> passwords.txt
	echo "Enter the username (myusername, myemail@gmail.com, etc.): "
	read usrIn
	echo "username: $usrIn" >> passwords.txt
	echo "Enter the password: "
	read usrIn
	echo "password: $usrIn" >> passwords.txt
	echo "" >> passwords.txt
	echo "Would you like to add a password to your safe (y/n)? "
	read usrIn
done

echo
echo
echo "Now get ready to choose a master passphrase for your safe. You will be asked to type it in twice."
echo

gpg -c --cipher-algo AES256 passwords.txt && rm passwords.txt

